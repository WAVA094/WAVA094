-- Создаем основной GUI
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local KeyBox = Instance.new("TextBox")
local CheckKeyButton = Instance.new("TextButton")
local Title = Instance.new("TextLabel")
local Status = Instance.new("TextLabel")
local PremiumHubButton = Instance.new("TextButton")
local FreeHubButton = Instance.new("TextButton")

-- Настройка GUI
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.Name = "KeySystem"
ScreenGui.ResetOnSpawn = false

-- Настройка основного фрейма
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.BorderSizePixel = 0
Frame.Position = UDim2.new(0.5, -150, 0.5, -125)
Frame.Size = UDim2.new(0, 300, 0, 250)
Frame.ClipsDescendants = true
Frame.Active = true
Frame.Draggable = true

-- Настройка заголовка
Title.Name = "Title"
Title.Parent = Frame
Title.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Font = Enum.Font.GothamBold
Title.Text = "KEY SYSTEM"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 20

-- Настройка поля ввода ключа
KeyBox.Name = "KeyBox"
KeyBox.Parent = Frame
KeyBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
KeyBox.Position = UDim2.new(0.1, 0, 0.25, 0)
KeyBox.Size = UDim2.new(0.8, 0, 0, 30)
KeyBox.Font = Enum.Font.Gotham
KeyBox.PlaceholderText = "Enter your key here"
KeyBox.Text = ""
KeyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
KeyBox.TextSize = 16
KeyBox.ClearTextOnFocus = false

-- Настройка кнопки проверки ключа
CheckKeyButton.Name = "CheckKeyButton"
CheckKeyButton.Parent = Frame
CheckKeyButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
CheckKeyButton.Position = UDim2.new(0.1, 0, 0.4, 0)
CheckKeyButton.Size = UDim2.new(0.8, 0, 0, 30)
CheckKeyButton.Font = Enum.Font.GothamBold
CheckKeyButton.Text = "CHECK KEY"
CheckKeyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CheckKeyButton.TextSize = 16

-- Настройка кнопки Premium Hub
PremiumHubButton.Name = "PremiumHubButton"
PremiumHubButton.Parent = Frame
PremiumHubButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
PremiumHubButton.Position = UDim2.new(0.1, 0, 0.55, 0)
PremiumHubButton.Size = UDim2.new(0.38, 0, 0, 25)
PremiumHubButton.Font = Enum.Font.Gotham
PremiumHubButton.Text = "PREMIUM HUB"
PremiumHubButton.TextColor3 = Color3.fromRGB(255, 215, 0)
PremiumHubButton.TextSize = 14

-- Настройка кнопки Free Hub
FreeHubButton.Name = "FreeHubButton"
FreeHubButton.Parent = Frame
FreeHubButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
FreeHubButton.Position = UDim2.new(0.52, 0, 0.55, 0)
FreeHubButton.Size = UDim2.new(0.38, 0, 0, 25)
FreeHubButton.Font = Enum.Font.Gotham
FreeHubButton.Text = "FREE HUB"
FreeHubButton.TextColor3 = Color3.fromRGB(100, 200, 255)
FreeHubButton.TextSize = 14

-- Настройка статусной строки
Status.Name = "Status"
Status.Parent = Frame
Status.BackgroundTransparency = 1
Status.Position = UDim2.new(0.1, 0, 0.85, 0)
Status.Size = UDim2.new(0.8, 0, 0, 20)
Status.Font = Enum.Font.Gotham
Status.Text = "Status: Waiting for key..."
Status.TextColor3 = Color3.fromRGB(255, 255, 255)
Status.TextSize = 14

-- Анимация появления интерфейса
local tweenService = game:GetService("TweenService")

local function fadeIn(obj, delay)
    obj.Visible = true
    if obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox") then
        obj.TextTransparency = 1
    else
        obj.BackgroundTransparency = 1
    end
    
    wait(delay)
    
    if obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox") then
        tweenService:Create(
            obj,
            TweenInfo.new(0.5),
            {TextTransparency = 0}
        ):Play()
    else
        tweenService:Create(
            obj,
            TweenInfo.new(0.5),
            {BackgroundTransparency = 0}
        ):Play()
    end
end

-- Последовательное появление элементов
coroutine.wrap(function()
    fadeIn(Frame, 0)
    fadeIn(Title, 0.1)
    fadeIn(KeyBox, 0.2)
    fadeIn(CheckKeyButton, 0.3)
    fadeIn(PremiumHubButton, 0.4)
    fadeIn(FreeHubButton, 0.5)
    fadeIn(Status, 0.6)
end)()

-- Список валидных ключей и их скриптов
local keyScripts = {
    ["PREMIUM123"] = {
        scriptLink = loadstring(game:HttpGet("https://raw.githubusercontent.com/WAVA094/WAVA094/refs/heads/main/New%20key", true))(setclipboard("https://t.me/qlnscrpt")),
        message = "Premium script loaded!",
        color = Color3.fromRGB(100, 255, 100)
    },
    ["FREE456"] = {
        scriptLink = loadstring(game:HttpGet("https://raw.githubusercontent.com/WAVA094/WAVA094/refs/heads/main/New%20key", true))(setclipboard("https://t.me/qlnscrpt")),
        message = "Free script loaded!",
        color = Color3.fromRGB(100, 200, 255)
    },
    ["QILIN2000"] = {
        scriptLink = "https://raw.githubusercontent.com/WAVA094/WAVA094/refs/heads/main/Main%20new%202",
        message = "Main script loaded!",
        color = Color3.fromRGB(100, 255, 100)
    }
}

-- Функция для проверки ключа
local function isValidKey(key)
    key = string.upper(string.gsub(key, "%s+", ""))
    return keyScripts[key] ~= nil
end

-- Функция для анимации кнопок
local function animateButton(button)
    local originalSize = button.Size
    tweenService:Create(
        button,
        TweenInfo.new(0.1, Enum.EasingStyle.Quad),
        {Size = originalSize - UDim2.new(0, 0, 0, 5)}
    ):Play()
    wait(0.1)
    tweenService:Create(
        button,
        TweenInfo.new(0.2, Enum.EasingStyle.Back),
        {Size = originalSize}
    ):Play()
end

-- Функция для загрузки скрипта
local function loadScript(key)
    local keyData = keyScripts[string.upper(string.gsub(key, "%s+", ""))]
    
    if keyData then
        local success, err = pcall(function()
            loadstring(game:HttpGet(keyData.scriptLink, true))()
        end)
        
        if success then
            Status.Text = "Status: " .. keyData.message
            Status.TextColor3 = keyData.color
            return true
        else
            Status.Text = "Status: Error loading script!"
            Status.TextColor3 = Color3.fromRGB(255, 100, 100)
            warn("Error loading script: " .. err)
            return false
        end
    end
    return false
end

-- Функция для авто-отправки сообщений
local function startAutoChat()
    local TextChatService = game:GetService("TextChatService")
    local message = "скачать читы и скрипты можно в телеграм канале qilin scripts le le le le le le le le le le le"
    local interval = 300 -- 5 минут в секундах

    while true do
        if TextChatService.TextChannels:FindFirstChild("RBXGeneral") then
            local success, err = pcall(function()
                TextChatService.TextChannels.RBXGeneral:SendAsync(message)
            end)
            
            if success then
                print("✅ Сообщение отправлено: " .. message)
            else
                warn("❌ Ошибка: " .. err)
            end
        else
            warn("❌ Чат RBXGeneral не найден!")
        end
        wait(interval)
    end
end

-- Обработчики кнопок
CheckKeyButton.MouseButton1Click:Connect(function()
    animateButton(CheckKeyButton)
    
    local key = KeyBox.Text
    
    if key == "" then
        Status.Text = "Status: Please enter a key!"
        Status.TextColor3 = Color3.fromRGB(255, 100, 100)
        return
    end
    
    if isValidKey(key) then
        if loadScript(key) then
            task.spawn(startAutoChat)
        end
    else
        Status.Text = "Status: Key is INVALID! Access denied."
        Status.TextColor3 = Color3.fromRGB(255, 100, 100)
    end
    
    wait(5)
    Status.Text = "Status: Waiting for key..."
    Status.TextColor3 = Color3.fromRGB(255, 255, 255)
end)

PremiumHubButton.MouseButton1Click:Connect(function()
    animateButton(PremiumHubButton)
    
    local premiumLink = "https://example.com/premium-hub"
    setclipboard(premiumLink)
    
    Status.Text = "Status: Premium hub link copied!"
    Status.TextColor3 = Color3.fromRGB(255, 215, 0)
    
    wait(3)
    Status.Text = "Status: Waiting for key..."
    Status.TextColor3 = Color3.fromRGB(255, 255, 255)
end)

FreeHubButton.MouseButton1Click:Connect(function()
    animateButton(FreeHubButton)
    
    local freeLink = "https://go.linkify.ru/1oMB"
    setclipboard(freeLink)
    
    Status.Text = "Status: Free hub link copied!"
    Status.TextColor3 = Color3.fromRGB(100, 200, 255)
    
    wait(3)
    Status.Text = "Status: Waiting for key..."
    Status.TextColor3 = Color3.fromRGB(255, 255, 255)
end)
